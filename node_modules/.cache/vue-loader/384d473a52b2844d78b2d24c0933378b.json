{"remainingRequest":"/Users/gabrielong/Documents/Y2S2/BT3103/bt3103-week-6/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/gabrielong/Documents/Y2S2/BT3103/bt3103-week-6/src/components/Modify.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/gabrielong/Documents/Y2S2/BT3103/bt3103-week-6/src/components/Modify.vue","mtime":1614838437805},{"path":"/Users/gabrielong/Documents/Y2S2/BT3103/bt3103-week-6/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/gabrielong/Documents/Y2S2/BT3103/bt3103-week-6/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/gabrielong/Documents/Y2S2/BT3103/bt3103-week-6/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/gabrielong/Documents/Y2S2/BT3103/bt3103-week-6/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBkYXRhYmFzZSBmcm9tICcuLi9maXJlYmFzZS5qcyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBwcm9wczogewogICAgICAgIGRvY19pZDpTdHJpbmcKICAgIH0sCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGRhdGFwYWNrZXQ6e30KICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGZldGNoSXRlbXM6ZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGRhdGFiYXNlLmNvbGxlY3Rpb24oIm9yZGVycyIpLmRvYyh0aGlzLmRvY19pZCkuZ2V0KCkudGhlbihkb2MgPT4gewogICAgICAgICAgICAgICAgdGhpcy5kYXRhcGFja2V0ID0gZG9jLmRhdGEoKTsKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIHVwZGF0ZU9yZGVyOmZ1bmN0aW9uKCkgewogICAgICAgICAgICB2YXIgY29weSA9IE9iamVjdC5hc3NpZ24oe30sdGhpcy5kYXRhcGFja2V0KQogICAgICAgICAgICBPYmplY3QuZW50cmllcyh0aGlzLmRhdGFwYWNrZXQpLmZvckVhY2goKFtrZXldLCBpbmRleCkgPT4gewogICAgICAgICAgICAgICAgdmFyIGNvdW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaW5kZXgpLnZhbHVlOwogICAgICAgICAgICAgICAgaWYgKGNvdW50ICE9ICIiIHx8IGNvdW50ICE9IDApIHsKICAgICAgICAgICAgICAgIGNvcHlba2V5XSA9IHBhcnNlSW50KGNvdW50KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGRhdGFiYXNlLmNvbGxlY3Rpb24oIm9yZGVycyIpLmRvYyh0aGlzLmRvY19pZCkudXBkYXRlKGNvcHkpLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIm9yZGVycyIpOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9LAogICAgY3JlYXRlZCgpIHsKICAgICAgICB0aGlzLmZldGNoSXRlbXMoKTsKICAgIH0KICAgIAp9Cg=="},{"version":3,"sources":["Modify.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"Modify.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n        \n        \n        <div v-for=\"(count, name, index) in datapacket\" v-bind:key=\"name\">\n            <p id=\"dish\">{{name}}: {{count}}</p>\n            <br>\n            <input :id=\"index\" placeholder=0 type=\"number\" min=\"0\"/>\n        </div>\n        <br>\n        <button id=\"add-btn\" v-on:click=\"updateOrder\"> Update Order</button>\n    </div>\n</template>\n\n<script>\nimport database from '../firebase.js';\n\nexport default {\n    props: {\n        doc_id:String\n    },\n    data() {\n        return {\n            datapacket:{}\n        }\n    },\n    methods: {\n        fetchItems:function() {\n            database.collection(\"orders\").doc(this.doc_id).get().then(doc => {\n                this.datapacket = doc.data();\n            })\n        },\n        updateOrder:function() {\n            var copy = Object.assign({},this.datapacket)\n            Object.entries(this.datapacket).forEach(([key], index) => {\n                var count = document.getElementById(index).value;\n                if (count != \"\" || count != 0) {\n                copy[key] = parseInt(count);\n                }\n            });\n            database.collection(\"orders\").doc(this.doc_id).update(copy).then(() => {\n                this.$router.push(\"orders\");\n            });\n        }\n    },\n    created() {\n        this.fetchItems();\n    }\n    \n}\n</script>\n\n<style scoped>\ndish {\n    margin-bottom:10px;\n}\n\ninput {\n    font-size:20px;\n}\nbutton {\n  width: 65px;\n  height: 30px;\n  background-color: #f7cac9;\n  border-radius: 10px;\n  border-width: 1px;\n}\n</style>"]}]}