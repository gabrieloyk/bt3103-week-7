{"remainingRequest":"/Users/gabrielong/Documents/Y2S2/BT3103/bt3103-week-6/node_modules/babel-loader/lib/index.js!/Users/gabrielong/Documents/Y2S2/BT3103/bt3103-week-6/node_modules/eslint-loader/index.js??ref--13-0!/Users/gabrielong/Documents/Y2S2/BT3103/bt3103-week-6/src/components/charts/BarChart.js","dependencies":[{"path":"/Users/gabrielong/Documents/Y2S2/BT3103/bt3103-week-6/src/components/charts/BarChart.js","mtime":1615392917265},{"path":"/Users/gabrielong/Documents/Y2S2/BT3103/bt3103-week-6/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/gabrielong/Documents/Y2S2/BT3103/bt3103-week-6/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/gabrielong/Documents/Y2S2/BT3103/bt3103-week-6/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIgZnJvbSAiL1VzZXJzL2dhYnJpZWxvbmcvRG9jdW1lbnRzL1kyUzIvQlQzMTAzL2J0MzEwMy13ZWVrLTYvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiOwppbXBvcnQgeyBCYXIgfSBmcm9tICd2dWUtY2hhcnRqcyc7CmltcG9ydCBkYXRhYmFzZSBmcm9tICcuLi8uLi9maXJlYmFzZS5qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBleHRlbmRzOiBCYXIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRhdGFjb2xsZWN0aW9uOiB7CiAgICAgICAgbGFiZWxzOiBbXSwKICAgICAgICAvL1siQ2VyZWFsIFByYXduIiwgIkRyeSBCZWVmIEhvciBGdW4iLCAiTWFwbyBUb2Z1IiwgIlBvcmsgRnJpZWQgUmljZSIsICJQcmF3biBPbWVsZXR0ZSIsICJTYW1iYWwgS2FuZ2t1bmciXSwKICAgICAgICBkYXRhc2V0czogW3sKICAgICAgICAgIGxhYmVsOiAiUXVhbnRpdHkiLAogICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBbJ3JlZCcsICdncmVlbicsICdibHVlJywgJ3B1cnBsZScsICdvcmFuZ2UnLCAncGluayddLAogICAgICAgICAgZGF0YTogW10KICAgICAgICB9XQogICAgICB9LAogICAgICBvcHRpb25zOiB7CiAgICAgICAgbGVnZW5kOiB7CiAgICAgICAgICBkaXNwbGF5OiBmYWxzZQogICAgICAgIH0sCiAgICAgICAgdGl0bGU6IHsKICAgICAgICAgIGRpc3BsYXk6IHRydWUsCiAgICAgICAgICB0ZXh0OiAnVG90YWwgTnVtYmVyIG9mIEVhY2ggRGlzaCcKICAgICAgICB9LAogICAgICAgIHJlc3BvbnNpdmU6IHRydWUsCiAgICAgICAgbWFpbnRhaW5Bc3BlY3RSYXRpbzogZmFsc2UKICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGZldGNoSXRlbXM6IGZ1bmN0aW9uIGZldGNoSXRlbXMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgdG90YWxJdGVtcyA9IHt9OwogICAgICBkYXRhYmFzZS5jb2xsZWN0aW9uKCdvcmRlcnMnKS5nZXQoKS50aGVuKGZ1bmN0aW9uIChzbmFwKSB7CiAgICAgICAgc25hcC5mb3JFYWNoKGZ1bmN0aW9uIChkb2MpIHsKICAgICAgICAgIHZhciBvcmRlciA9IGRvYy5kYXRhKCk7CgogICAgICAgICAgZm9yICh2YXIgZGlzaCBpbiBvcmRlcikgewogICAgICAgICAgICBpZiAodG90YWxJdGVtc1tkaXNoXSkgewogICAgICAgICAgICAgIHRvdGFsSXRlbXNbZGlzaF0gKz0gb3JkZXJbZGlzaF07CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdG90YWxJdGVtc1tkaXNoXSA9IG9yZGVyW2Rpc2hdOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihPYmplY3Qua2V5cyh0b3RhbEl0ZW1zKS5zb3J0KCkpLAogICAgICAgICAgICBfc3RlcDsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgIHZhciBkaXNoID0gX3N0ZXAudmFsdWU7CgogICAgICAgICAgICBfdGhpcy5kYXRhY29sbGVjdGlvbi5sYWJlbHMucHVzaChkaXNoKTsKCiAgICAgICAgICAgIF90aGlzLmRhdGFjb2xsZWN0aW9uLmRhdGFzZXRzWzBdLmRhdGEucHVzaCh0b3RhbEl0ZW1zW2Rpc2hdKTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgICAgfQoKICAgICAgICBjb25zb2xlLmxvZyh0b3RhbEl0ZW1zKTsKCiAgICAgICAgX3RoaXMucmVuZGVyQ2hhcnQoX3RoaXMuZGF0YWNvbGxlY3Rpb24sIF90aGlzLm9wdGlvbnMpOwogICAgICB9KTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmZldGNoSXRlbXMoKTsKICB9Cn07"},{"version":3,"sources":["/Users/gabrielong/Documents/Y2S2/BT3103/bt3103-week-6/src/components/charts/BarChart.js"],"names":["Bar","database","extends","data","datacollection","labels","datasets","label","backgroundColor","options","legend","display","title","text","responsive","maintainAspectRatio","methods","fetchItems","totalItems","collection","get","then","snap","forEach","doc","order","dish","Object","keys","sort","push","console","log","renderChart","created"],"mappings":";;;;AAAA,SAASA,GAAT,QAAoB,aAApB;AACA,OAAOC,QAAP,MAAqB,mBAArB;AAEA,eAAe;AACbC,EAAAA,OAAO,EAAEF,GADI;AAEbG,EAAAA,IAAI,EAAE,gBAAY;AAChB,WAAO;AACHC,MAAAA,cAAc,EAAE;AACZC,QAAAA,MAAM,EAAE,EADI;AACA;AACZC,QAAAA,QAAQ,EAAE,CAAC;AACPC,UAAAA,KAAK,EAAE,UADA;AAEPC,UAAAA,eAAe,EAAE,CAAC,KAAD,EAAO,OAAP,EAAe,MAAf,EAAsB,QAAtB,EAA+B,QAA/B,EAAwC,MAAxC,CAFV;AAGPL,UAAAA,IAAI,EAAE;AAHC,SAAD;AAFE,OADb;AASHM,MAAAA,OAAO,EAAE;AACLC,QAAAA,MAAM,EAAE;AAAEC,UAAAA,OAAO,EAAE;AAAX,SADH;AAELC,QAAAA,KAAK,EAAE;AACLD,UAAAA,OAAO,EAAE,IADJ;AAELE,UAAAA,IAAI,EAAE;AAFD,SAFF;AAMLC,QAAAA,UAAU,EAAE,IANP;AAOLC,QAAAA,mBAAmB,EAAE;AAPhB;AATN,KAAP;AAmBD,GAtBY;AAuBbC,EAAAA,OAAO,EAAE;AACPC,IAAAA,UAAU,EAAE,sBAAY;AAAA;;AACpB,UAAIC,UAAU,GAAG,EAAjB;AACAjB,MAAAA,QAAQ,CAACkB,UAAT,CAAoB,QAApB,EAA8BC,GAA9B,GAAoCC,IAApC,CACI,UAAAC,IAAI,EAAI;AACJA,QAAAA,IAAI,CAACC,OAAL,CAAc,UAAAC,GAAG,EAAI;AACjB,cAAIC,KAAK,GAAGD,GAAG,CAACrB,IAAJ,EAAZ;;AACA,eAAK,IAAIuB,IAAT,IAAiBD,KAAjB,EAAwB;AACpB,gBAAIP,UAAU,CAACQ,IAAD,CAAd,EAAsB;AAClBR,cAAAA,UAAU,CAACQ,IAAD,CAAV,IAAoBD,KAAK,CAACC,IAAD,CAAzB;AACH,aAFD,MAEO;AACHR,cAAAA,UAAU,CAACQ,IAAD,CAAV,GAAmBD,KAAK,CAACC,IAAD,CAAxB;AACH;AACJ;AACJ,SATD;;AADI,mDAWSC,MAAM,CAACC,IAAP,CAAYV,UAAZ,EAAwBW,IAAxB,EAXT;AAAA;;AAAA;AAWR,8DAAiD;AAAA,gBAAxCH,IAAwC;;AAC7C,YAAA,KAAI,CAACtB,cAAL,CAAoBC,MAApB,CAA2ByB,IAA3B,CAAgCJ,IAAhC;;AACA,YAAA,KAAI,CAACtB,cAAL,CAAoBE,QAApB,CAA6B,CAA7B,EAAgCH,IAAhC,CAAqC2B,IAArC,CAA0CZ,UAAU,CAACQ,IAAD,CAApD;AACH;AAdO;AAAA;AAAA;AAAA;AAAA;;AAeRK,QAAAA,OAAO,CAACC,GAAR,CAAYd,UAAZ;;AACA,QAAA,KAAI,CAACe,WAAL,CAAiB,KAAI,CAAC7B,cAAtB,EAAsC,KAAI,CAACK,OAA3C;AACH,OAlBD;AAmBH;AAtBM,GAvBI;AA+CbyB,EAAAA,OA/Ca,qBA+CF;AACT,SAAKjB,UAAL;AACD;AAjDY,CAAf","sourcesContent":["import { Bar } from 'vue-chartjs'\nimport database from '../../firebase.js'\n\nexport default {\n  extends: Bar,\n  data: function () {\n    return {\n        datacollection: {\n            labels: [], //[\"Cereal Prawn\", \"Dry Beef Hor Fun\", \"Mapo Tofu\", \"Pork Fried Rice\", \"Prawn Omelette\", \"Sambal Kangkung\"],\n            datasets: [{\n                label: \"Quantity\",\n                backgroundColor: ['red','green','blue','purple','orange','pink'],\n                data: []\n              }]\n        },\n        options: {\n            legend: { display: false },\n            title: {\n              display: true,\n              text: 'Total Number of Each Dish'\n            },\n            responsive: true,\n            maintainAspectRatio: false\n        }\n    }\n  },\n  methods: {\n    fetchItems: function () {\n        var totalItems = {}\n        database.collection('orders').get().then(\n            snap => {\n                snap.forEach( doc => {\n                    var order = doc.data()\n                    for (var dish in order) {\n                        if (totalItems[dish]) {\n                            totalItems[dish] += order[dish]\n                        } else {\n                            totalItems[dish] = order[dish]\n                        }\n                    }\n                })\n            for (var dish of Object.keys(totalItems).sort()) {\n                this.datacollection.labels.push(dish)\n                this.datacollection.datasets[0].data.push(totalItems[dish])\n            }\n            console.log(totalItems)\n            this.renderChart(this.datacollection, this.options)\n        }) \n    } \n  },\n  created () {\n    this.fetchItems()\n  }\n}\n"]}]}